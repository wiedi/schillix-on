'\" te
.\" Copyright (c) 1997 Sun Microsystems, Inc  All Rights Reserved
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.TH demangle 3EXT "11 Mar 1997" "SunOS 5.11" "Extended Library Functions"
.SH NAME
demangle, cplus_demangle \- decode a C++ encoded symbol name
.SH SYNOPSIS
.LP
.nf
\fBcc\fR [ \fIflag\fR .\|.\|. ] \fIfile\fR[ \fIlibrary\fR .\|.\|. ]  \fB-ldemangle\fR

#include <demangle.h>



\fBint\fR \fBcplus_demangle\fR(\fBconst char *\fIsymbol\fR, \fBchar *\fIprototype\fR, \fBsize_t\fR \fIsize\fR);
.fi

.SH DESCRIPTION
.sp
.LP
The
.B cplus_demangle()
function decodes (demangles) a C++ linker symbol
name (mangled name)  into a (partial) C++ prototype, if possible.   C++
mangled names may not have enough information to form a complete
prototype.
.sp
.LP
The 
.I symbol
string argument points to the input mangled name.
.sp
.LP
The
.I prototype
argument points to a user-specified output string
buffer, of
.B size
bytes.
.sp
.LP
The 
.B cplus_demangle()
function operates on mangled names generated by
SPARCompilers C++ 3.0.1, 4.0.1, 4.1 and 4.2.
.sp
.LP
The
.B cplus_demangle()
function improves and replaces the
\fBdemangle()\fR function.
.sp
.LP
Refer to the
.BR CC.1 ,
.BR dem.1 ,
and \fBc++filt.1\fR manual pages in
the
.B /opt/SUNWspro/man/man1
directory.  These pages are only available
with the SPROcc package.
.SH RETURN VALUES
.sp
.LP
The
.B cplus_demangle()
function returns the following values:
.sp
.ne 2
.mk
.na
.B 0
.ad
.RS 19n
.rt
The
.I symbol
argument is a valid mangled name and
.IR prototype
contains a (partial) prototype for the symbol.
.RE

.sp
.ne 2
.mk
.na
.B DEMANGLE_ENAME
.ad
.RS 19n
.rt
The
.I symbol
argument is not a valid mangled name and the content of
\fIprototype\fR is a copy of the symbol.
.RE

.sp
.ne 2
.mk
.na
.B DEMANGLE_ESPACE
.ad
.RS 19n
.rt
The
.I prototype
output buffer is too small to contain the prototype (or
the symbol), and the content of
.I prototype
is undefined.
.RE

