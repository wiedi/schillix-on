'\" te
.\" Copyright (c) 2004, Sun Microsystems, Inc. All Rights Reserved.
.\" Copyright (c) 2012-2013, J. Schilling
.\" Copyright (c) 2013, Andreas Roehler
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License ("CDDL"), version 1.0.
.\" You may only use this file in accordance with the terms of version
.\" 1.0 of the CDDL.
.\"
.\" A full copy of the text of the CDDL should have accompanied this
.\" source.  A copy of the CDDL is also available via the Internet at
.\" http://www.opensource.org/licenses/cddl1.txt
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.TH imqobjmgr 1M "7 Apr 2004" "SunOS 5.11" "System Administration Commands"
.SH NAME
imqobjmgr \- manage Message Queue administered objects
.SH SYNOPSIS
.LP
.nf
\fB/usr/bin/imqobjmgr\fR \fIsubcommand\fR [[\fIoption\fR]\&.\|.\|.] \fR
.fi

.LP
.nf
\fB/usr/bin/imqobjmgr\fR \fB-i\fR \fIfileName\fR
.fi

.LP
.nf
\fB/usr/bin/imqobjmgr\fR \fB-h\fR | [\fB-H\fR] | \fB-help\fR | \fB-Help\fR
.fi

.LP
.nf
\fB/usr/bin/imqobjmgr\fR \fB-v\fR
.fi

.SH DESCRIPTION
.sp
.LP
.B imqobjmgr
manages Message Queue administered objects in an object
store accessible using
.BR JNDI .
Administered objects allow
.BR JMS
clients to be provider-independent by insulating them from provider-specific
naming and configuration formats.
.sp
.LP
.B imqobjmgr
supports five management subcommands. These
.IR subcommand s,
and their corresponding
.IR option s
follow the
.B imqobjmgr
command on the command line. See
.B USAGE
and
.BR OPTIONS .
.sp
.LP
The following subcommands are supported:
.sp
.ne 2
.mk
.na
.B add
.ad
.RS 10n
.rt
Add a new administered object
.RE

.sp
.ne 2
.mk
.na
.B delete
.ad
.RS 10n
.rt
Delete an administered object
.RE

.sp
.ne 2
.mk
.na
.B list
.ad
.RS 10n
.rt
Display a list of administered objects
.RE

.sp
.ne 2
.mk
.na
.B query
.ad
.RS 10n
.rt
Display information about administered objects
.RE

.sp
.ne 2
.mk
.na
.B update
.ad
.RS 10n
.rt
Update administered objects
.RE

.sp
.LP
You can use the
.B -i
option to specify the name of an input file that
uses java property file syntax to represent all or part of any
.B imqobjmgr
subcommand clause. The
.BR -f ,
.BR -s ,
and
.BR -pre
options can be used with any
.B imqobjmgr
subcommand.
.SH OPTIONS
.sp
.LP
The following options are supported:
.sp
.ne 2
.mk
.na
.B -f
.ad
.RS 23n
.rt
Perform action without user confirmation.
.RE

.sp
.ne 2
.mk
.na
.B -h
|
.B -help
.ad
.RS 23n
.rt
Display usage help. Execute nothing else on the command line.
.RE

.sp
.ne 2
.mk
.na
.B -H
|
.B -Help
.ad
.RS 23n
.rt
 Display usage help, attribute list, and examples. Execute nothing else on the
command line.
.RE

.sp
.ne 2
.mk
.na
.B -i
.I fileName
.ad
.RS 23n
.rt
Specify the name of an input file containing all or part of the subcommand
clause, specifying object type, lookup name, object attributes, object store
attributes, or other options. Use this option for repetitive information,
such as object store attributes.
.RE

.sp
.ne 2
.mk
.na
\fB-j\fR \fIattribute\fR=\fIvalue\fR
.ad
.RS 23n
.rt
Specify attributes necessary to identify and access a
.B JNDI
object
store.
.RE

.sp
.ne 2
.mk
.na
.B -javahome
.ad
.RS 23n
.rt
Specify an alternate Java 2 compatible runtime to use.
.B imqobjmgr
uses
the runtime bundled with the operating system by default.
.RE

.sp
.ne 2
.mk
.na
.B -l
.I lookupName
.ad
.RS 23n
.rt
Specify the JNDI lookup name of an administered object. This name must be
unique in the object store's context.
.RE

.sp
.ne 2
.mk
.na
\fB-o\fR \fIattribute\fR=\fIvalue\fR
.ad
.RS 23n
.rt
 Specify the attributes of an administered object.
.RE

.sp
.ne 2
.mk
.na
.B -pre
.ad
.RS 23n
.rt
Run command in preview mode. Preview mode indicates what will be done
without performing the command.
.RE

.sp
.ne 2
.mk
.na
.B -r
.I read-only_state
.ad
.RS 23n
.rt
Specify if an administered object is a read-only object. A value of true
indicates the administered object is a read-only object. JMS clients cannot
modify the attributes of read-only administered objects. The read-only state
is set to false by default.
.RE

.sp
.ne 2
.mk
.na
.B -s
.ad
.RS 23n
.rt
Silent mode. No output is displayed.
.RE

.sp
.ne 2
.mk
.na
.B -t
.I type
.ad
.RS 23n
.rt
Specify the type of an administered object:
.sp
.in +2
.nf
q = queue
t = topic
cf = ConnectionFactory
qf = queueConnectionFactory
tf = topicConnectionFactory
xcf = XA ConnectionFactory (distributed transactions)
xqf = XA queueConnectionFactory (distributed transactions)
xtf = XA topicConnectionFactory (distributed transactions)
e = SOAP endpoint (used to support SOAP messaging)
.fi
.in -2
.sp

.RE

.sp
.ne 2
.mk
.na
.B -v
.ad
.RS 23n
.rt
Display version information. Execute nothing else on the command line.
.RE

.SH USAGE
.sp
.LP
This section provides information on subcommands, options, and attribute
value pairs.
.SS "Subcommands and Options"
.sp
.LP
The following subcommands and corresponding options are supported:
.sp
.ne 2
.mk
.na
.B add -t
.I type
.B -l
.I lookupName
[\fB-o\fR
\fIattribute\fR=\fIvalue\fR].\|.\|. \fB- j\fR
\fIattribute\fR=\fIvalue\fR.\|.\|.\fR
.ad
.sp .6
.RS 4n
Add a new administered object of the specified type, lookup name , and
object attributes to an object store.
.RE

.sp
.ne 2
.mk
.na
.B "delete -t"
.I type
.B -l
.I lookupName
.B -j
\fIattribute\fR=\fIvalue\fR.\|.\|.\fR
.ad
.sp .6
.RS 4n
Delete an administered object, of the specified type and lookup name from
an object store.
.RE

.sp
.ne 2
.mk
.na
\fBlist [-t\fR \fItype\fR]
.B -j
\fIattribute\fR=\fIvalue\fR.\|.\|.\fR
.ad
.sp .6
.RS 4n
Display a list of administered objects of a specified type, or all
administered objects, in an object store.
.RE

.sp
.ne 2
.mk
.na
.B " query -l"
.I lookupName
.B -j
\fIattribute\fR=\fIvalue.\fR..\fR
.ad
.sp .6
.RS 4n
Display information about an administered object of a specified lookup name
in an object store.
.RE

.sp
.ne 2
.mk
.na
.B update -l
l\fIookupName\fR [\fB-o\fR
\fIattribute\fR=\fIvalue\fR].\|.\|.
.B -j
\fIattribute\fR=\fIvalue\fR.\|.\|.
\fR
.ad
.sp .6
.RS 4n
Update the specified attribute values of an administered object of the
specified lookup name in an object store.
.RE

.SS "Attribute Value Pairs"
.sp
.LP
The following attribute value pairs are supported for the specified
administered object types:
.sp
.LP
Type = ConnectionFactories: ConnectionFactory, TopicConnectionFactory,
QueueConnectionFactory, XAConnectionFactory, XATopicConnectionFactory, and
XAQueueConnectionFactory
.sp
.ne 2
.mk
.na
.B imqAckOnAcknowledge
.ad
.sp .6
.RS 4n
Value: String
.RB ( true ,
.BR false ,
not specified)
.sp
Default: not specified
.RE

.sp
.ne 2
.mk
.na
.B imqAckOnProduce
.ad
.sp .6
.RS 4n
Value: String
.RB ( true ,
.BR false ,
not specified)
.sp
Default: not specified
.RE

.sp
.ne 2
.mk
.na
.B imqAckTimeout
.ad
.sp .6
.RS 4n
Value: String (time in milliseconds)
.sp
Default:
.B 0
(no timeout)
.RE

.sp
.ne 2
.mk
.na
.B imqAddressList
.ad
.sp .6
.RS 4n
Value: String
.sp
Default: not specified
.RE

.sp
.ne 2
.mk
.na
.B imqAddressListBehavior
.ad
.sp .6
.RS 4n
Value: String
.sp
Default: Priority
.RE

.sp
.ne 2
.mk
.na
.B imqAddressListIterations
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default: 1
.RE

.sp
.ne 2
.mk
.na
.B imqBrokerHostName
.ad
.sp .6
.RS 4n
Used if imqConnectionType is
.B TCP
or
.BR TLS .
This attribute type is
only supported in Message Queue 3.0.
.sp
Value: String
.sp
Default:\fBlocalhost\fR
.RE

.sp
.ne 2
.mk
.na
.B imqBrokerHostPort
.ad
.sp .6
.RS 4n
Used if imqConnectionType is
.B TCP
or
.BR TLS .
This attribute type is
only supported in Message Queue 3.0.
.sp
Value: Integer
.sp
Default:
.B 7676
.RE

.sp
.ne 2
.mk
.na
.B imqBrokerServicePort
.ad
.sp .6
.RS 4n
Used if imqConnectionType is
.B TCP
or
.BR TLS .
This attribute type is
only supported in Message Queue 3.0.
.sp
Value: Integer
.sp
Default:
.B 0
.RE

.sp
.ne 2
.mk
.na
.B imqConfiguredClientID
.ad
.sp .6
.RS 4n
Value: String (ID number)
.sp
Default: no ID specified
.RE

.sp
.ne 2
.mk
.na
.B imqConnectionFlowCount
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default: 100
.RE

.sp
.ne 2
.mk
.na
.B imqConnectionFlowLimit
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default: 1000
.RE

.sp
.ne 2
.mk
.na
.B imqConnectionFlowLimitEnabled
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqConnectionType
.ad
.sp .6
.RS 4n
This attribute type is only supported in Message Queue 3.0.
.sp
Value: String
.RB ( TCP ,
.BR TLS ,
.BR HTTP ).
.sp
Default:
.B TCP
.RE

.sp
.ne 2
.mk
.na
.B imqConnectionURL
.ad
.sp .6
.RS 4n
Used if imqConnectionType is
.BR HTTP .
This attribute type is only
supported in Message Queue 3.0.
.sp
Value: String
.sp
Default: \fBhttp://\fIlocalhost\fB/imq/tunnel\fR
.RE

.sp
.ne 2
.mk
.na
.B imqConsumerFlowLimit
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default: 1000
.RE

.sp
.ne 2
.mk
.na
.B imqConsumerFlowThreshold
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default: 50
.RE

.sp
.ne 2
.mk
.na
.B imqDefaultPassword
.ad
.sp .6
.RS 4n
Value: String
.sp
Default:
.B guest
.RE

.sp
.ne 2
.mk
.na
.B imqDefaultUsername
.ad
.sp .6
.RS 4n
Value: String
.sp
Default:
.B guest
.RE

.sp
.ne 2
.mk
.na
.B imqDisableSetClientID
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqJMSDeliveryMode
.ad
.sp .6
.RS 4n
.RB "Value: Integer (" 1 "=non-persistent, " 2 =persistent)
.sp
Default:
.B 2
.RE

.sp
.ne 2
.mk
.na
.B imqJMSExpiration
.ad
.sp .6
.RS 4n
Value: Long (time in milliseconds)
.sp
Default:
.B 0
(does not expire)
.RE

.sp
.ne 2
.mk
.na
.B imqJMSPriority
.ad
.sp .6
.RS 4n
Value: Integer (\fB0\fR to
.BR 9 )
.sp
Default:
.B 4
.RE

.sp
.ne 2
.mk
.na
.B imqLoadMaxToServerSession
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B true
.RE

.sp
.ne 2
.mk
.na
.B imqOverrideJMSDeliveryMode
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqOverrideJMSExpiration
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqOverrideJMSHeadersToTemporaryDestinations
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqOverrideJMSPriority
.ad
.sp .6
.RS 4n
 Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqQueueBrowserMaxMessagesPerRetrieve
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default:
.B 1000
.RE

.sp
.ne 2
.mk
.na
.B imqBrowserRetrieveTimeout
.ad
.sp .6
.RS 4n
Value: Long (time in milliseconds)
.sp
Default:
.B 60,000
.RE

.sp
.ne 2
.mk
.na
.B imqReconnectAttempts
.ad
.sp .6
.RS 4n
Value: Integer
.sp
Default:
.B 0
.RE

.sp
.ne 2
.mk
.na
.B imqReconnectEnabled
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqReconnectInterval
.ad
.sp .6
.RS 4n
 Value: Long (time in milliseconds)
.sp
Default:
.B 3000
.RE

.sp
.ne 2
.mk
.na
.B imqSetJMSXAppID
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqSetJMSXConsumerTXID
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B imqSetJMSXProducerTXID
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B  imqSetJMSXRcvTimestamp
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:\fB false\fR
.RE

.sp
.ne 2
.mk
.na
.B  imqSetJMSXUserID
.ad
.sp .6
.RS 4n
Value: Boolean
.sp
Default:
.B false
.RE

.sp
.ne 2
.mk
.na
.B  imqSSLIsHostTrusted
.ad
.sp .6
.RS 4n
Used if imqConnectionType is
.BR TLS .
This attribute type is only
supported in Message Queue 3.0.
.sp
Value: Boolean
.sp
Default:
.B true
.RE

.sp
.LP
Type = Destinations: Topic and Queue
.sp
.ne 2
.mk
.na
.B imqDestinationDescription
.ad
.RS 29n
.rt
Value: String
.sp
Default: no description
.RE

.sp
.ne 2
.mk
.na
.B imqDestinationName
.ad
.RS 29n
.rt
 Value: String
.sp
Default:
.B Untitled_Destination_Object
.RE

.sp
.LP
Type = Endpoint (SOAP Endpoint)
.sp
.ne 2
.mk
.na
.B imqEndpointDescription
.ad
.RS 26n
.rt
Value: String
.sp
Default:
.B "A description for the endpoint object"
.RE

.sp
.ne 2
.mk
.na
.B imqEndpointName
.ad
.RS 26n
.rt
Value: String
.sp
Default:
.B Untitled_Endpoint_Object
.RE

.sp
.ne 2
.mk
.na
.B imqSOAPEndpointList
.ad
.RS 26n
.rt
Value: String (one or more space-separated URLs)
.sp
Default: no url
.RE

.SH EXAMPLES
.LP
.B Example 1
Adding a Topic Administered Object to an Object Store
.sp
.LP
Where JNDI lookup name\fB=myTopic\fR and
.BR imqDestinationName=MyTestTopic ,
the following command adds to an LDAP
server object store:

.sp
.in +2
.nf
imqobjmgr add \fB-t\fR t \fB-l\fR "cn=myTopic"\e
\fB-o\fR "imqDestinationName=MyTestTopic"\e
\fB-j\fR "java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory"\e
\fB-j\fR "java.naming.provider.url=ldap://mydomain.com:389/o=imq"
.fi
.in -2
.sp

.sp
.LP
Where JNDI lookup name\fB=myTopic\fR and
.BR imqDestinationName=MyTestTopic ,
the following command adds to a file
system object store:

.sp
.in +2
.nf
imqobjmgr add \fB-t\fR \fB-l\fR "cn=myTopic"\e
\fB-o\fR "imqDestinationName=MyTestTopic"\e
\fB-j\fR \e
  "java.naming.factory.initial=com.sun.jndi.fscontext.RefFSContextFactory"\e
\fB-j\fR "java.naming.provider.url=file:/home/foo/imq_admin_objects"
.fi
.in -2
.sp

.sp
.LP
Where JNDI lookup name\fB=myTopic\fR and
.BR imqDestinationName=MyTestTopic ,
the following command adds to a file
system object store, using an input file:

.sp
.in +2
.nf
imqobjmgr \fB-i\fR inputfile
.fi
.in -2
.sp

.sp
.LP
The associated input file consists of the following:

.sp
.in +2
.nf
cmdtype=add
obj.type=t
obj.lookupName=cn=myTopic
obj.attrs.imqDestinationName=MyTestTopic
objstore.attrs.java.naming.factory.initial=com.sun.jndi.fscontext.\e
  RefFSContextFactory
objstore.attrs.java.naming.provider.url=file:/home/foo/imq_admin_objects
.fi
.in -2

.LP
.B Example 2
Adding a
.B QueueConnectionFactory
Administered Object
to an Object Store
.sp
.LP
Where JNDI lookup name\fB=myQCF\fR,
.BR "read-only state=true" ,
.BR imqAddressList=mq://foohost:777/jms ,
the following command adds to an
LDAP server object store:

.sp
.in +2
.nf
imqobjmgr add \fB-t\fR qf \fB-l\fR "cn=myQCF" \fB-r\fR true\e

\fB-o\fR "imqAddressList=mq://foohost:777/jms"\e
\fB-j\fR "java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory"\e
\fB-j\fR "java.naming.provider.url=ldap://mydomain.com:389/o=imq"\e
.fi
.in -2
.sp

.sp
.LP
Where JNDI lookup name\fB=myQCF\fR,
.BR "read-only state=true" ,
.BR imqAddressList=mq://foohost:777/jms ,
the following command adds to an
LDAP server object store using an input file:

.sp
.in +2
.nf
imqobjmgr \fB-i\fR inputfile
.fi
.in -2
.sp

.sp
.LP
The associated input file consists of the following:

.sp
.in +2
.nf
cmdtype=add
obj.type=qf
obj.lookupName=cn=myQCF
obj.readOnly=true
obj.attrs.imqAddressList=mq://foohost:777/jms
objstore.attrs.java.naming.factory.initial=com.sun.jndi.\e
  ldap.LdapCtxFactory
objstore.attrs.java.naming.provider.url=ldap://mydomain.com:389/o=imq
.fi
.in -2

.sp
.LP
.RB "Where JNDI lookup name" =myQCF ", read-only state" =true ,
.BR imqAddressList=mq://foohost:777/jms ,
the following command adds to an
LDAP server object store, using both an input file and command options:

.sp
.in +2
.nf
imqobjmgr add \fB-t\fR qf \fB-l\fR "cn=myQCF"\e
\fB-o\fR "imqAddressList=mq://foohost:777/jms"\e
\fB-i\fR inputfile
.fi
.in -2
.sp

.sp
.LP
The associated input file consists of the following:

.sp
.in +2
.nf
objstore.attrs.java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory
objstore.attrs.java.naming.provider.url=ldap://mydomain.com:389/o=imq
.fi
.in -2

.LP
.B Example 3
Deleting a Topic Administered Object from an Object Store
.sp
.LP
Where JNDI lookup name\fB=myTopic\fR and no confirmation is requested, the
following command deletes from an LDAP server object store:

.sp
.in +2
.nf
imqobjmgr delete \fB-f\fR \fB-l\fR "cn=myTopic"\e
\fB-j\fR "java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory"\e
\fB-j\fR "java.naming.provider.url=ldap://mydomain.com:389/o=imq"
.fi
.in -2
.sp

.LP
.B Example 4
Querying Information About a Topic Administered Object
.sp
.LP
Where JNDI lookup name\fB=myTopic\fR, the following command queries from an
LDAP server object store using simple authentication scheme:

.sp
.in +2
.nf
imqobjmgr query \fB-l\fR "cn=myTopic"\e
\fB-j\fR "java.naming.factory.initial=com.sun.jndi.ldap.LdapCtxFactory"\e
\fB-j\fR "java.naming.provider.url=ldap://mydomain.com:389/o=imq"\e
\fB-j\fR "java.naming.security.authentication=simple"\e
\fB-j\fR "java.naming.security.principal=uid=foo,ou=imqobjmgr,o=imq"\e
\fB-j\fR "java.naming.security.credentials=foo"
.fi
.in -2
.sp

.SH EXIT STATUS
.sp
.LP
The following exit values are returned:
.sp
.ne 2
.mk
.na
.B 0
.ad
.RS 6n
.rt
Successful completion.
.RE

.sp
.ne 2
.mk
.na
.B >0
.ad
.RS 6n
.rt
An error occurred.
.RE

.SH ATTRIBUTES
.sp
.LP
See
.BR attributes (5)
for descriptions of the following attributes:
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i)
lw(2.75i) |lw(2.75i)
.
ATTRIBUTE TYPEATTRIBUTE VALUE
_
AvailabilitySUNWiqu
.TE

.SH SEE ALSO
.sp
.LP
.BR imqadmin (1M),
.BR imqcmd (1M),
.BR imqbrokerd (1M),
.BR imqkeytool (1M),
.BR imqusermgr (1M),
.BR attributes (5)
.sp
.LP
.I "Sun Java System Message Queue Administrator's Guide
