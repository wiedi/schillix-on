'\" te
.\" Copyright 1989 AT&T Copyright (c) 2008, Sun Microsystems, Inc. All Rights Reserved
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.TH prtdiag 1M "2 Sep 2008" "SunOS 5.11" "System Administration Commands"
.SH NAME
prtdiag \- display system diagnostic information
.SH SYNOPSIS
.LP
.nf
\fB/usr/sbin/prtdiag\fR [\fB-v\fR] [\fB-l\fR]
.fi

.SH DESCRIPTION
.sp
.LP
.B prtdiag
displays system configuration and diagnostic information on
.BR sun4u ,
.BR sun4v ,
and x86 systems.
.sp
.LP
The diagnostic information lists any failed field replaceable units
(\fBFRU\fRs) in the system.
.sp
.LP
The interface, output, and location in the directory hierarchy for
.B prtdiag
are uncommitted and subject to change in future releases.
.sp
.LP
.B prtdiag
does not display diagnostic information and environmental
status when executed on the Sun Enterprise 10000 server. See the
.B /var/opt/SUNWssp/adm/${SUNW_HOSTNAME}/messages
file on the system
service processor (SSP) to obtain such information for this server.
.SH OPTIONS
.sp
.LP
The following options are supported:
.sp
.ne 2
.mk
.na
.B -l
.ad
.RS 6n
.rt
Log output. If failures or errors exist in the system, output this
information to
.BR syslogd "(1M) only."
.RE

.sp
.ne 2
.mk
.na
.B -v
.ad
.RS 6n
.rt
Verbose mode. Displays the time of the most recent
.B AC
Power failure,
and the most recent hardware fatal error information, and (if applicable)
environmental status. The hardware fatal error information is useful to
repair and manufacturing for detailed diagnostics of
.BR FRU s.
.RE

.SH EXIT STATUS
.sp
.LP
The following exit values are returned:
.sp
.ne 2
.mk
.na
.B 0
.ad
.RS 5n
.rt
No failures or errors are detected in the system.
.RE

.sp
.ne 2
.mk
.na
.B 1
.ad
.RS 5n
.rt
Failures or errors are detected in the system.
.RE

.sp
.ne 2
.mk
.na
.B 2
.ad
.RS 5n
.rt
An internal
.B prtdiag
error occurred, for example, out of memory.
.RE

.SH ATTRIBUTES
.sp
.LP
See
.BR attributes (5)
for descriptions of the following attributes:
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i)
lw(2.75i) |lw(2.75i)
.
ATTRIBUTE TYPEATTRIBUTE VALUE
_
AvailabilitySUNWkvm
_
Interface StabilityUnstable*
.TE

.sp
.LP
*The output is unstable.
.SH SEE ALSO
.sp
.LP
.BR modinfo (1M),
.BR prtconf (1M),
.BR psrinfo (1M),
.BR sysdef (1M),
.BR syslogd (1M),
.BR attributes (5),
.BR openprom (7D)
.SH NOTES
.sp
.LP
Not all diagnostic and system information is available on every Solaris
platform, and therefore cannot be displayed by
.BR prtdiag .
On those
platforms, further information can be obtained from the System Controller.
