'\" te
.\" Copyright (c) 1992, X/Open Company Limited  All Rights Reserved
.\" Copyright 1989 AT&T
.\" Portions Copyright (c) 2009, Sun Microsystems, Inc. All Rights Reserved.
.\"
.\" Sun Microsystems, Inc. gratefully acknowledges The Open Group for
.\" permission to reproduce portions of its copyrighted documentation.
.\" Original documentation from The Open Group can be obtained online
.\" at http://www.opengroup.org/bookstore/.
.\"
.\" The Institute of Electrical and Electronics Engineers and The Open Group,
.\" have given us permission to reprint portions of their documentation.
.\"
.\" In the following statement, the phrase "this text" refers to portions
.\" of the system documentation.
.\"
.\" Portions of this text are reprinted and reproduced in electronic form in
.\" the Sun OS Reference Manual, from IEEE Std 1003.1, 2004 Edition, Standard
.\" for Information Technology -- Portable Operating System Interface (POSIX),
.\" The Open Group Base Specifications Issue 6, Copyright (C) 2001-2004 by the
.\" Institute of Electrical and Electronics Engineers, Inc and The Open Group.
.\" In the event of any discrepancy between these versions and the original
.\" IEEE and The Open Group Standard, the original IEEE and The Open Group
.\" Standard is the referee document.
.\"
.\" The original Standard can be obtained online at
.\" http://www.opengroup.org/unix/online.html.
.\"
.\" This notice shall appear on any product containing this material.
.\"
.\" CDDL HEADER START
.\"
.\" The contents of this file are subject to the terms of the
.\" Common Development and Distribution License (the "License").
.\" You may not use this file except in compliance with the License.
.\"
.\" You can obtain a copy of the license at usr/src/OPENSOLARIS.LICENSE
.\" or http://www.opensolaris.org/os/licensing.
.\" See the License for the specific language governing permissions
.\" and limitations under the License.
.\"
.\" When distributing Covered Code, include this CDDL HEADER in each
.\" file and include the License file at usr/src/OPENSOLARIS.LICENSE.
.\" If applicable, add the following below this CDDL HEADER, with the
.\" fields enclosed by brackets "[]" replaced with your own identifying
.\" information: Portions Copyright [yyyy] [name of copyright owner]
.\"
.\" CDDL HEADER END
.TH sum 1 "11 Aug 2009" "SunOS 5.11" "User Commands"
.SH NAME
sum \- print checksum and block count for a file
.SH SYNOPSIS
.LP
.nf
\fB/usr/bin/sum\fR [-abBchHlLpPrRstTw] [-x method] [\fIfile\fR.\|.\|.]
.fi

.SS "ksh93"
.LP
.nf
sum [-abBchHlLpPrRstTw] [-x method] [\fIfile\fR.\|.\|.]
.fi

.SH DESCRIPTION
.sp
.LP
The
.B sum
utility and ksh93 built-in command list the checksum, and for
most methods the block count, for each file argument. The standard input is
read if there are no file arguments.
.sp
.LP
The
.BR getconf (1)
\fBUNIVERSE\fR determines the default sum method: att
for the att universe, bsd otherwise. The default for the other commands is
the command name itself. The att method is a true sum, all others are order
dependent.
.sp
.LP
Method names consist of a leading identifier and 0 or more options
separated by -.
.sp
.LP
\fBgetconf PATH_RESOLVE\fR determines how symbolic links are handled.
This can be explicitly overridden by the
.BR --logical ,
.BR --metaphysical ,
and
.B --physical
.RB "options below." " PATH_RESOLVE"
can be one of:
.sp
.ne 2
.mk
.na
.B --logical
.ad
.RS 18n
.rt
Follow all symbolic links.
.RE

.sp
.ne 2
.mk
.na
.B --metaphysical
.ad
.RS 18n
.rt
Follow command argument symbolic links, otherwise do not follow.
.RE

.sp
.ne 2
.mk
.na
.B --physical
.ad
.RS 18n
.rt
Do not follow symbolic links.
.RE

.SH OPTIONS
.sp
.LP
The following options are supported for
.BR /usr/bin/sum :
.sp
.ne 2
.mk
.na
.B -a
.ad
.br
.na
.B --all
.ad
.sp .6
.RS 4n
List the checksum for all files. Use with
.B --total
to list both
individual and total checksums and block counts.
.RE

.sp
.ne 2
.mk
.na
.B -b
.ad
.br
.na
.B --binary
.ad
.sp .6
.RS 4n
Read files in binary mode. This is the default.
.RE

.sp
.ne 2
.mk
.na
.B -B
.ad
.br
.na
.B --scale=scale
.ad
.sp .6
.RS 4n
Block count scale (bytes per block) override for methods that include size
in the output. The default is method-specific.
.RE

.sp
.ne 2
.mk
.na
.B -c
.ad
.br
.na
.B --check
.ad
.sp .6
.RS 4n
Each file is interpreted as the output from a previous sum. If
\fB--header\fR or \fB--permissions\fR was specified in the previous sum then
.RB "the checksum method is automatically determined, otherwise" " --method"
must be specified. The listed checksum is compared with the current value
and a warning is issued for each file that does not match. If file was
generated by
.BR --permissions ,
then the file mode, user and group are
also checked. Empty lines, lines starting with #<space>, or the line # are
ignored. Lines containing no blanks are interpreted as
[no]name[=\fIvalue\fR] options:
.sp
.ne 2
.mk
.na
.B method=name
.ad
.sp .6
.RS 4n
Checksum method to apply to subsequent lines.
.RE

.sp
.ne 2
.mk
.na
.B permissions
.ad
.sp .6
.RS 4n
Subsequent lines were generated with
.BR --permissions .
.RE

.RE

.sp
.ne 2
.mk
.na
.B -h
.ad
.br
.na
.B --header
.ad
.sp .6
.RS 4n
Print the checksum method as the first output line. Used with \fB--check\fR
and
.BR --permissions .
.RE

.sp
.ne 2
.mk
.na
.B -l
.ad
.br
.na
.B --list
.ad
.sp .6
.RS 4n
Each file is interpreted as a list of files, one per line, that is
checksummed.
.RE

.sp
.ne 2
.mk
.na
.B -p
.ad
.br
.na
.B --permissions
.ad
.sp .6
.RS 4n
If
.B --check
is not specified then list the file mode, user and group
between the checksum and path. User and group matching the caller are output
as -. If
.B --check
is specified then the mode, user and group for each
path in file are updated if necessary to match those in file. A warning is
printed on the standard error for each changed file.
.RE

.sp
.ne 2
.mk
.na
.B -R
.ad
.br
.na
.B --recursive
.ad
.sp .6
.RS 4n
Recursively checksum the contents of directories.
.RE

.sp
.ne 2
.mk
.na
.B -t
.ad
.br
.na
.B --total
.ad
.sp .6
.RS 4n
List only the total checksum and block count of all files. \fB--all\fR
\fB--total\fR lists each checksum and the total. The total checksum and
block count may be different from the checksum and block count of the
catenation of all files due to partial blocks that may occur when the files
are treated separately.
.RE

.sp
.ne 2
.mk
.na
.B -T
.ad
.br
.na
.B --text
.ad
.sp .6
.RS 4n
Read files in text mode (for example, treat \er\en as \en).
.RE

.sp
.ne 2
.mk
.na
.B -w
.ad
.br
.na
.B --warn
.ad
.sp .6
.RS 4n
Warn about invalid
.B --check
lines. On by default;
.B -w
means
.BR --nowarn .
.RE

.sp
.ne 2
.mk
.na
.B -x
.ad
.br
.na
.B --method|algorithm=method
.ad
.sp .6
.RS 4n
Specifies the checksum method to apply. Parenthesized method options are
readonly implementation details.
.sp
.ne 2
.mk
.na
\fBatt\fR|\fBsys5\fR|\fBs5\fR|\fBdefault\fR
.ad
.sp .6
.RS 4n
The system 5 release 4 checksum. This is the default for sum when
\fBgetconf UNIVERSE\fR is
.BR att .
This is the only true sum; all of
the other methods are order dependent.
.RE

.sp
.ne 2
.mk
.na
\fBast4\fR|\fB32x4\fR|\fBtw\fR
.ad
.sp .6
.RS 4n
The
.B ast
128 bit
.B PRNG
hash generated by catenating 4 separate 32
bit
.B PNRG
hashes. The block count is not printed.
.RE

.sp
.ne 2
.mk
.na
\fBbsd\fR|\fBucb\fR
.ad
.sp .6
.RS 4n
The BSD checksum.
.RE

.sp
.ne 2
.mk
.na
.B crc
.ad
.sp .6
.RS 4n
32 bit CRC (cyclic redundancy check).
.sp
.ne 2
.mk
.na
\fBpolynomial\fR=\fImask\fR
.ad
.sp .6
.RS 4n
The 32 bit
.B crc
polynomial bitmask with implicit bit 32. The default
value is 0xedb88320.
.RE

.sp
.ne 2
.mk
.na
\fBdone\fR[=\fInumber\fR]\fR
.ad
.sp .6
.RS 4n
XOR the final
.B crc
value with number. 0xffffffff is used if number is
omitted. The option value may be omitted. The default value is 0.
.RE

.sp
.ne 2
.mk
.na
\fBinit\fR[=\fInumber\fR]\fR
.ad
.sp .6
.RS 4n
The initial
.B crc
value. 0xffffffff is used if number is omitted. The
option value may be omitted. The default value is 0.
.RE

.sp
.ne 2
.mk
.na
.B rotate
.ad
.sp .6
.RS 4n
XOR each input character with the high order
.B crc
byte (instead of the
low order).
.RE

.sp
.ne 2
.mk
.na
\fBsize\fR[=\fInumber\fR]\fR
.ad
.sp .6
.RS 4n
Include the total number of bytes in the crc. number, if specified, is
first XOR'd into the size. The option value may be omitted. The default
value is 0.
.RE

.RE

.sp
.ne 2
.mk
.na
.B prng
.ad
.sp .6
.RS 4n
32 bit
.B PRNG
(pseudo random number generator) hash.
.sp
.ne 2
.mk
.na
\fBmpy\fR=\fInumber\fR
.ad
.RS 17n
.rt
The 32 bit
.B PRNG
multiplier. The default value is 0x01000193.
.RE

.sp
.ne 2
.mk
.na
\fBadd\fR=\fInumber\fR
.ad
.RS 17n
.rt
The 32 bit
.B PRNG
addend. The default value is 0.
.RE

.sp
.ne 2
.mk
.na
\fBinit\fR[=\fInumber\fR]\fR
.ad
.RS 17n
.rt
The
.B PRNG
initial value. 0xffffffff is used if number is omitted. The
option value may be omitted. The default value is 0x811c9dc5.
.RE

.RE

.sp
.ne 2
.mk
.na
\fBmd4\fR|\fBMD4\fR
.ad
.sp .6
.RS 4n
\fBRFC1320 MD4\fR message digest. Cryptographically weak. The block
count is not printed.  (version)
.B md4
(\fBsolaris -lmd\fR)
2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBmd5\fR|\fBMD5\fR
.ad
.sp .6
.RS 4n
\fBRFC1321 MD5\fR message digest. Cryptographically weak. The block
count is not printed. (version)
.B md5
(\fBsolaris -lmd\fR)
2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBsha1\fR|\fBSHA1\fR|\fBsha-1\fR|\fBSHA-1\fR
.ad
.sp .6
.RS 4n
\fBRFC3174\fR / \fBFIPS 180-1\fR \fBSHA-1\fR secure hash algorithm 1.
.RB "Cryptographically weak. The block count is not printed. (version)" " sha1"
(\fBsolaris -lmd\fR) 2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBsha256\fR|\fBsha-256\fR|\fBSHA256\fR|\fBSHA-256\fR
.ad
.sp .6
.RS 4n
.B "FIPS 180-2"
.B SHA256
secure hash algorithm. The block count is not
printed. (version)
.B sha256
(\fBsolaris -lmd\fR) 2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBsha384\fR|\fBsha-384\fR|\fBSHA384\fR|\fBSHA-384\fR
.ad
.sp .6
.RS 4n
.B "FIPS 180-2"
.B SHA384
secure hash algorithm. The block count is not
printed. (version)
.B sha384
(\fBsolaris -lmd\fR) 2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBsha512\fR|\fBsha-512\fR|\fBSHA512\fR|\fBSHA-512\fR
.ad
.sp .6
.RS 4n
.B "FIPS 180-2"
.B SHA512
secure hash algorithm. The block count is not
printed. (version)
.B sha512
(\fBsolaris -lmd\fR) 2005-07-26
.RE

.sp
.ne 2
.mk
.na
\fBposix\fR|\fBcksum\fR|\fBstd\fR|\fBstandard\fR
.ad
.sp .6
.RS 4n
The
.B "posix 1003.2-1992"
32 bit
.B crc
checksum. This is the default
.BR cksum (1)
method. Shorthand for
.BR crc-0x04c11db7-rotate-done-size .
.RE

.sp
.ne 2
.mk
.na
.B zip
.ad
.sp .6
.RS 4n
The
.BR zip (1)
.BR crc .
Shorthand for
.BR crc-0xedb88320-init-done .
.RE

.sp
.ne 2
.mk
.na
\fBfddi\fR
.ad
.sp .6
.RS 4n
The
.BR "FDDI crc" .
Shorthand for
\fBcrc-0xedb88320-size\fR=\fB0xcc55cc55\fR.
.RE

.sp
.ne 2
.mk
.na
\fBfnv\fR|\fBfnv1\fR
.ad
.sp .6
.RS 4n
The
.B Fowler-Noll-Vo
32 bit
.B PRNG
hash with non-zero initializer
(\fBFNV-1\fR). Shorthand for \fBprng-0x01000193-init\fR=\fB0x811c9dc5\fR.
.RE

.sp
.ne 2
.mk
.na
\fBast\fR|\fBstrsum\fR
.ad
.sp .6
.RS 4n
The
.B "ast strsum"
\fBPRNG\fR hash. Shorthand for
\fBprng-0x63c63cd9-add\fR=\fB0x9c39c33d\fR.
.RE

.RE

.sp
.ne 2
.mk
.na
.B -L
.ad
.br
.na
\fB--logical\fR|\fBfollow\fR
.ad
.sp .6
.RS 4n
Follow symbolic links when traversing directories. The default is
determined by
.BR "getconf PATH_RESOLVE" .
.RE

.sp
.ne 2
.mk
.na
.B -H
.ad
.br
.na
.B --metaphysical
.ad
.sp .6
.RS 4n
Follow command argument symbolic links, otherwise do not follow symbolic
links when traversing directories. The default is determined by
\fBgetconf PATH_RESOLVE\fR.
.RE

.sp
.ne 2
.mk
.na
.B -P
.ad
.br
.na
.B --physical
.ad
.sp .6
.RS 4n
Do not follow symbolic links when traversing directories. The default is
determined by
.BR "getconf PATH_RESOLVE" .
.RE

.sp
.ne 2
.mk
.na
.B -r
.ad
.br
.na
.B --bsd
.ad
.sp .6
.RS 4n
Equivalent to
.B "--method=bsd --scale=512"
for compatibility with
other sum implementations.
.RE

.sp
.ne 2
.mk
.na
.B -s
.ad
.br
.na
.B --sysv
.ad
.sp .6
.RS 4n
Equivalent to
.B --method=sys5
for compatibility with other sum
implementations.
.RE

.sp
.ne 2
.mk
.na
.B -S
.ad
.br
.na
\fB--silent\fR|\fBstatus\fR
.ad
.sp .6
.RS 4n
No output for
.BR --check ;
0 exit status means all sums matched, non-0
means at least one sum failed to match. Ignored for
.BR --permissions .
.RE

.SH OPERANDS
.sp
.LP
The following operands are supported:
.sp
.ne 2
.mk
.na
\fIfile\fR
.ad
.RS 8n
.rt
A path name of a file.  If no files are named, the standard input is
used.
.RE

.SH USAGE
.sp
.LP
See
.BR largefile (5)
for the description of the behavior of
.BR sum
when encountering files greater than or equal to 2 Gbyte ( 2^31 bytes).
.SH ENVIRONMENT VARIABLES
.sp
.LP
See
.BR environ (5)
for descriptions of the following environment
variables that affect the execution of
.BR sum :
.BR LC_CTYPE ,
.BR LC_MESSAGES ,
and
.BR NLSPATH .
.SH EXIT STATUS
.sp
.LP
The following exit values are returned.
.sp
.ne 2
.mk
.na
.B 0
.ad
.RS 6n
.rt
Successful completion.
.RE

.sp
.ne 2
.mk
.na
.B >0
.ad
.RS 6n
.rt
An error occurred.
.RE

.SH ATTRIBUTES
.sp
.LP
See
.BR attributes (5)
for descriptions of the following attributes:
.sp

.sp
.TS
tab() box;
cw(2.75i) |cw(2.75i)
lw(2.75i) |lw(2.75i)
.
ATTRIBUTE TYPEATTRIBUTE VALUE
_
AvailabilitySUNWesu
_
CSIEnabled
.TE

.SH SEE ALSO
.sp
.LP
.BR cksum (1),
.BR getconf (1),
.BR ksh93 (1),
.BR sum (1B),
.BR wc (1),
.BR zip (1)
,
.BR libmd (3LIB),
.BR attributes (5),
.BR environ (5),
.BR largefile (5)
.SH DIAGNOSTICS
.sp
.LP
\fBRead error\fR is indistinguishable from end of file on most devices.
Check the block count.
.SH NOTES
.sp
.LP
Portable applications should use
.BR cksum (1).
The default algorithm for
this command is defined in the POSIX standard and is identical across
platforms.
.sp
.LP
\fBsum\fR and \fBusr/ucb/sum\fR (see \fBsum\fR(1B)) return different
checksums.
